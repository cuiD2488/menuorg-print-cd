# PrintType åˆ†èœæ‰“å°åŠŸèƒ½è¯´æ˜

## ğŸ½ï¸ åŠŸèƒ½æ¦‚è¿°

PrintType åˆ†èœæ‰“å°åŠŸèƒ½å…è®¸æ ¹æ®èœå“çš„ `printer_type` å­—æ®µå°†è®¢å•åˆ†é…åˆ°ä¸åŒçš„æ‰“å°æœºï¼Œå®ç°å¨æˆ¿åˆ†å·¥æ‰“å°ã€‚

## ğŸ”§ æ ¸å¿ƒåŸç†

### 1. printer_type å­—æ®µ
- æ¯ä¸ªèœå“å¯ä»¥è®¾ç½® `printer_type` å­—æ®µï¼ˆæ•°å­—ç±»å‹ï¼‰
- `printer_type = 0` æˆ–æœªè®¾ç½®ï¼šå½’å…¥å®Œæ•´è®¢å•
- `printer_type > 0`ï¼šåˆ†é…åˆ°å¯¹åº”ç¼–å·çš„æ‰“å°æœº

### 2. æ‰“å°æœºç¼–å·
- æ¯å°æ‰“å°æœºå¯ä»¥è®¾ç½®ç¼–å·ï¼ˆ1-99ï¼‰
- ç¼–å·å¯¹åº”èœå“çš„ `printer_type` å€¼
- æ²¡æœ‰ç¼–å·çš„æ‰“å°æœºæ‰“å°å®Œæ•´è®¢å•

### 3. åˆ†èœé€»è¾‘
```
èœå“ printer_type = 1 â†’ ç¼–å·ä¸º 1 çš„æ‰“å°æœº
èœå“ printer_type = 2 â†’ ç¼–å·ä¸º 2 çš„æ‰“å°æœº
èœå“ printer_type = 0 â†’ æ²¡æœ‰ç¼–å·çš„æ‰“å°æœºï¼ˆå®Œæ•´è®¢å•ï¼‰
```

## ğŸ“ ä½¿ç”¨æ­¥éª¤

### 1. è®¾ç½®æ‰“å°æœºç¼–å·
```javascript
// è®¾ç½®æ‰“å°æœºç¼–å·
printerManager.setPrinterNumber('çƒ­èœæ‰“å°æœº', 1);
printerManager.setPrinterNumber('å‡‰èœæ‰“å°æœº', 2);
printerManager.setPrinterNumber('æ±¤å“æ‰“å°æœº', 3);
// æ”¶é“¶æ‰“å°æœºä¸è®¾ç½®ç¼–å·ï¼Œæ‰“å°å®Œæ•´è®¢å•
```

### 2. å¯ç”¨åˆ†èœæ¨¡å¼
```javascript
// å¯ç”¨åˆ†èœæ‰“å°
printerManager.setSeparatePrintingMode(true);
```

### 3. èœå“æ•°æ®æ ¼å¼
```javascript
const order = {
  order_id: '12345',
  // ... å…¶ä»–è®¢å•ä¿¡æ¯
  dishes_array: [
    {
      dishes_name: 'å®«ä¿é¸¡ä¸',
      price: '18.50',
      amount: '1',
      printer_type: '1' // åˆ†é…ç»™1å·æ‰“å°æœºï¼ˆçƒ­èœï¼‰
    },
    {
      dishes_name: 'å‡‰æ‹Œé»„ç“œ',
      price: '8.00',
      amount: '1',
      printer_type: '2' // åˆ†é…ç»™2å·æ‰“å°æœºï¼ˆå‡‰èœï¼‰
    },
    {
      dishes_name: 'ç±³é¥­',
      price: '3.00',
      amount: '2',
      printer_type: '0' // å®Œæ•´è®¢å•ï¼ˆä¸»é£Ÿï¼‰
    }
  ]
};
```

### 4. æ‰§è¡Œæ‰“å°
```javascript
// æ‰§è¡Œåˆ†èœæ‰“å°
const result = await printerManager.printOrder(order);
console.log(result);
```

## ğŸ¯ å®é™…åº”ç”¨åœºæ™¯

### é¤å…å¨æˆ¿åˆ†å·¥
- **çƒ­èœå°**ï¼šprinter_type = 1ï¼Œå¤„ç†ç‚’èœã€ç…ç‚¸ç­‰
- **å‡‰èœå°**ï¼šprinter_type = 2ï¼Œå¤„ç†å‡‰æ‹Œèœã€æ²™æ‹‰ç­‰
- **æ±¤å“å°**ï¼šprinter_type = 3ï¼Œå¤„ç†æ±¤ç±»ã€ç²¥ç±»ç­‰
- **æ”¶é“¶å°**ï¼šæ— ç¼–å·ï¼Œæ‰“å°å®Œæ•´è®¢å•ç”¨äºæ ¸å¯¹

### é…ç½®ç¤ºä¾‹
```javascript
// æ‰“å°æœºé…ç½®
printerManager.setPrinterNumber('å¨æˆ¿çƒ­èœæ‰“å°æœº', 1);
printerManager.setPrinterNumber('å¨æˆ¿å‡‰èœæ‰“å°æœº', 2);
printerManager.setPrinterNumber('å¨æˆ¿æ±¤å“æ‰“å°æœº', 3);
// æ”¶é“¶æ‰“å°æœºä¸è®¾ç½®ç¼–å·

// å¯ç”¨åˆ†èœæ¨¡å¼
printerManager.setSeparatePrintingMode(true);

// èœå“é…ç½®
const dishes = [
  { dishes_name: 'çº¢çƒ§è‚‰', printer_type: '1' },      // â†’ çƒ­èœå°
  { dishes_name: 'æ‹é»„ç“œ', printer_type: '2' },      // â†’ å‡‰èœå°
  { dishes_name: 'ç´«èœè›‹èŠ±æ±¤', printer_type: '3' },  // â†’ æ±¤å“å°
  { dishes_name: 'ç±³é¥­', printer_type: '0' }         // â†’ æ”¶é“¶å°ï¼ˆå®Œæ•´è®¢å•ï¼‰
];
```

## ğŸ” API æ¥å£

### æ‰“å°æœºç¼–å·ç®¡ç†
```javascript
// è®¾ç½®æ‰“å°æœºç¼–å·
printerManager.setPrinterNumber(printerName, number);

// è·å–æ‰“å°æœºç¼–å·
const number = printerManager.getPrinterNumber(printerName);
```

### åˆ†èœæ¨¡å¼æ§åˆ¶
```javascript
// å¯ç”¨/ç¦ç”¨åˆ†èœæ¨¡å¼
printerManager.setSeparatePrintingMode(enabled);
```

### é…ç½®ç®¡ç†
```javascript
// è·å–å½“å‰é…ç½®
const config = printerManager.getPrintTypeConfig();

// é‡ç½®æ‰€æœ‰é…ç½®
printerManager.resetPrintTypeConfig();
```

## ğŸ“Š æ‰“å°ç»“æœ

åˆ†èœæ‰“å°å®Œæˆåä¼šè¿”å›è¯¦ç»†çš„ç»“æœä¿¡æ¯ï¼š

```javascript
{
  æˆåŠŸæ•°é‡: 3,
  å¤±è´¥æ•°é‡: 0,
  é”™è¯¯åˆ—è¡¨: [],
  æ‰“å°å¼•æ“: 'C-Lodop (åˆ†èœæ‰“å°)',
  åˆ†èœæ¨¡å¼: true,
  æ‰“å°è¯¦æƒ…: [
    {
      printer: 'çƒ­èœæ‰“å°æœº',
      success: true,
      type: 'partial',
      dishCount: 2,
      printer_type: 1
    },
    {
      printer: 'å‡‰èœæ‰“å°æœº',
      success: true,
      type: 'partial',
      dishCount: 1,
      printer_type: 2
    },
    {
      printer: 'æ”¶é“¶æ‰“å°æœº',
      success: true,
      type: 'full',
      dishCount: 5,
      printer_type: null
    }
  ]
}
```

## ğŸ“‹ å°ç¥¨æ ¼å¼

### åˆ†èœå°ç¥¨ï¼ˆéƒ¨åˆ†è®¢å•ï¼‰
```
#12345 - Type 1

Order Date: 12/25, 02:30 PM
Pickup Time: 12/25, 03:00 PM
Payment: Card
Customer: å¼ ä¸‰
Phone: 13800138000
Type: Pickup

============================
Item                 Qty Price
----------------------------
å®«ä¿é¸¡ä¸              1  $18.50
  å¾®è¾£ï¼Œä¸è¦èŠ±ç”Ÿ

éº»å©†è±†è…              1  $16.00
  ä¸­è¾£

============================
éƒ¨åˆ†å°è®¡                $34.50

PrintType 1 - 2ä¸ªèœå“
```

### å®Œæ•´è®¢å•å°ç¥¨
```
#12345

Order Date: 12/25, 02:30 PM
Pickup Time: 12/25, 03:00 PM
Payment: Card
Customer: å¼ ä¸‰
Phone: 13800138000
Type: Pickup

============================
Item                 Qty Price
----------------------------
å®«ä¿é¸¡ä¸              1  $18.50
  å¾®è¾£ï¼Œä¸è¦èŠ±ç”Ÿ

éº»å©†è±†è…              1  $16.00
  ä¸­è¾£

å‡‰æ‹Œé»„ç“œ              1   $8.00
  å¤šæ”¾è’œ

é“¶è€³è²å­æ±¤            2  $12.00
  æ¸©çƒ­

ç±³é¥­                  2   $3.00

============================
Subtotal                $45.50
Tax                      $3.64
Tip                      $5.00
TOTAL                   $54.14
```

## ğŸš€ æµ‹è¯•æ–¹æ³•

1. æ‰“å¼€ `test-printtype.html` æµ‹è¯•é¡µé¢
2. ç‚¹å‡»"åˆå§‹åŒ–æ‰“å°æœº"
3. è®¾ç½®æ‰“å°æœºç¼–å·
4. å¯ç”¨åˆ†èœæ¨¡å¼
5. è°ƒæ•´èœå“çš„ printer_type å€¼
6. ç‚¹å‡»"æµ‹è¯•åˆ†èœæ‰“å°"

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **å‘åå…¼å®¹**ï¼šå¦‚æœä¸å¯ç”¨åˆ†èœæ¨¡å¼ï¼Œæ‰€æœ‰æ‰“å°æœºéƒ½æ‰“å°å®Œæ•´è®¢å•
2. **å…œåº•æœºåˆ¶**ï¼šå¦‚æœæ‰¾ä¸åˆ°å¯¹åº”ç¼–å·çš„æ‰“å°æœºï¼Œèœå“ä¼šå½’å…¥å®Œæ•´è®¢å•
3. **æ•°æ®æ ¼å¼**ï¼šprinter_type å­—æ®µåº”ä¸ºå­—ç¬¦ä¸²æ ¼å¼çš„æ•°å­—
4. **ç¼–å·èŒƒå›´**ï¼šæ‰“å°æœºç¼–å·å»ºè®®ä½¿ç”¨ 1-99 èŒƒå›´å†…çš„æ•°å­—
5. **é…ç½®æŒä¹…åŒ–**ï¼šå½“å‰é…ç½®åœ¨é¡µé¢åˆ·æ–°åä¼šä¸¢å¤±ï¼Œå®é™…ä½¿ç”¨æ—¶éœ€è¦æŒä¹…åŒ–å­˜å‚¨

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **åˆ†èœä¸ç”Ÿæ•ˆ**
   - æ£€æŸ¥æ˜¯å¦å¯ç”¨äº†åˆ†èœæ¨¡å¼
   - ç¡®è®¤æ‰“å°æœºç¼–å·è®¾ç½®æ­£ç¡®
   - éªŒè¯èœå“çš„ printer_type å­—æ®µå€¼

2. **æ‰“å°æœºæ‰¾ä¸åˆ°**
   - ç¡®è®¤æ‰“å°æœºå·²é€‰ä¸­
   - æ£€æŸ¥æ‰“å°æœºç¼–å·æ˜¯å¦åŒ¹é…
   - æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ä¿¡æ¯

3. **éƒ¨åˆ†èœå“æœªæ‰“å°**
   - æ£€æŸ¥å¯¹åº”ç¼–å·çš„æ‰“å°æœºæ˜¯å¦åœ¨çº¿
   - ç¡®è®¤æ‰“å°æœºæ˜¯å¦è¢«é€‰ä¸­
   - æŸ¥çœ‹é”™è¯¯åˆ—è¡¨ä¿¡æ¯

### è°ƒè¯•æ–¹æ³•
```javascript
// æŸ¥çœ‹å½“å‰é…ç½®
const config = printerManager.getPrintTypeConfig();
console.log('å½“å‰é…ç½®:', config);

// æŸ¥çœ‹æ‰“å°æœºçŠ¶æ€
const status = printerManager.getEngineStatus();
console.log('æ‰“å°æœºçŠ¶æ€:', status);

// æŸ¥çœ‹è°ƒè¯•ä¿¡æ¯
const debug = printerManager.getDebugInfo();
console.log('è°ƒè¯•ä¿¡æ¯:', debug);
```