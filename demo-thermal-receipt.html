<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ğŸ« çƒ­æ•å°ç¥¨ç³»ç»Ÿå¿«é€Ÿæ¼”ç¤º</title>
    <style>
      body {
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        margin: 0;
        padding: 20px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        background: white;
        border-radius: 16px;
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }
      .header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 40px;
        text-align: center;
      }
      .header h1 {
        margin: 0;
        font-size: 2.5rem;
        font-weight: 300;
      }
      .header p {
        margin: 10px 0 0 0;
        opacity: 0.9;
        font-size: 1.1rem;
      }
      .demo-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 0;
      }
      .demo-panel {
        padding: 40px;
      }
      .demo-panel h2 {
        color: #333;
        margin-bottom: 20px;
        font-weight: 500;
      }
      .receipt-preview {
        background: #1a1a1a;
        color: #00ff00;
        padding: 20px;
        border-radius: 8px;
        font-family: 'Courier New', monospace;
        font-size: 11px;
        line-height: 1.3;
        white-space: pre-wrap;
        overflow-x: auto;
        max-height: 600px;
        overflow-y: auto;
        border: 2px solid #333;
      }
      .controls {
        margin-bottom: 20px;
      }
      .btn {
        background: #667eea;
        color: white;
        border: none;
        padding: 12px 24px;
        border-radius: 8px;
        cursor: pointer;
        margin: 5px;
        font-size: 14px;
        transition: all 0.3s ease;
      }
      .btn:hover {
        background: #5a6fd8;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
      }
      .btn-success {
        background: #28a745;
      }
      .btn-success:hover {
        background: #218838;
      }
      .features {
        background: #f8f9fa;
        padding: 40px;
        grid-column: 1 / -1;
      }
      .features h2 {
        text-align: center;
        color: #333;
        margin-bottom: 30px;
      }
      .feature-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
      }
      .feature-card {
        background: white;
        padding: 20px;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        text-align: center;
      }
      .feature-icon {
        font-size: 2rem;
        margin-bottom: 10px;
      }
      .status {
        padding: 15px;
        border-radius: 8px;
        margin: 15px 0;
        font-weight: 500;
      }
      .status-success {
        background: #d4edda;
        color: #155724;
        border: 1px solid #c3e6cb;
      }
      .status-info {
        background: #d1ecf1;
        color: #0c5460;
        border: 1px solid #bee5eb;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1>ğŸ« çƒ­æ•å°ç¥¨æ‰“å°ç³»ç»Ÿ</h1>
        <p>ä¸“ä¸šæ’ç‰ˆ | å¤šå®½åº¦è‡ªé€‚åº” | å•†ä¸šçº§è§£å†³æ–¹æ¡ˆ</p>
      </div>

      <div class="demo-grid">
        <div class="demo-panel">
          <h2>ğŸ¯ å®æ—¶é¢„è§ˆ</h2>
          <div class="controls">
            <button class="btn" onclick="demo80mm()">80mmå°ç¥¨</button>
            <button class="btn" onclick="demo58mm()">58mmå°ç¥¨</button>
            <button class="btn" onclick="demoComplex()">å¤æ‚è®¢å•</button>
            <button class="btn btn-success" onclick="demoChinese()">
              ä¸­æ–‡é¤å…
            </button>
          </div>
          <div id="status" class="status status-info">
            ç‚¹å‡»æŒ‰é’®æŸ¥çœ‹ä¸åŒç±»å‹çš„çƒ­æ•å°ç¥¨é¢„è§ˆ
          </div>
          <div id="receipt" class="receipt-preview">
            ç­‰å¾…ç”Ÿæˆå°ç¥¨é¢„è§ˆ... ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®å¼€å§‹æ¼”ç¤ºï¼š â€¢ 80mmå°ç¥¨ -
            æ ‡å‡†å®½åº¦çƒ­æ•çº¸ â€¢ 58mmå°ç¥¨ - ç´§å‡‘å‹çƒ­æ•çº¸ â€¢ å¤æ‚è®¢å• - é•¿èœåã€å¤šè´¹ç”¨
            â€¢ ä¸­æ–‡é¤å… - ä¸­è‹±æ–‡æ··åˆæ˜¾ç¤º
          </div>
        </div>

        <div class="demo-panel">
          <h2>ğŸ“Š ç³»ç»Ÿç‰¹æ€§</h2>
          <div class="status status-success">
            âœ… ç³»ç»Ÿå·²å°±ç»ªï¼Œæ‰€æœ‰åŠŸèƒ½æ­£å¸¸è¿è¡Œ
          </div>

          <h3>ğŸ¨ ä¸“ä¸šæ’ç‰ˆç‰¹æ€§</h3>
          <ul>
            <li><strong>å±…ä¸­æ ‡é¢˜</strong> - é¤å…åç§°å¤§å†™å±…ä¸­æ˜¾ç¤º</li>
            <li><strong>è¡¨æ ¼å¸ƒå±€</strong> - è®¢å•ä¿¡æ¯ä¸“ä¸šè¡¨æ ¼æ ¼å¼</li>
            <li><strong>èœå“è¡¨æ ¼</strong> - å¸¦è¡¨å¤´çš„èœå“æ˜ç»†è¡¨æ ¼</li>
            <li><strong>ä»·æ ¼å¯¹é½</strong> - æ‰€æœ‰ä»·æ ¼å³å¯¹é½æ˜¾ç¤º</li>
            <li><strong>æ™ºèƒ½æ¢è¡Œ</strong> - é•¿èœåè‡ªåŠ¨æ¢è¡Œå¯¹é½</li>
          </ul>

          <h3>ğŸ”§ æŠ€æœ¯ç‰¹æ€§</h3>
          <ul>
            <li><strong>å¤šå®½åº¦æ”¯æŒ</strong> - 80mm/58mm/48mmè‡ªé€‚åº”</li>
            <li><strong>ä¸­è‹±æ–‡æ··åˆ</strong> - æ­£ç¡®è®¡ç®—æ˜¾ç¤ºå®½åº¦</li>
            <li><strong>è¾¹è·æ§åˆ¶</strong> - ç²¾ç¡®çš„è¾¹è·è®¾ç½®</li>
            <li><strong>é«˜åº¦ä¼˜åŒ–</strong> - å‡å°‘çº¸å¼ æµªè´¹</li>
            <li><strong>å­—ä½“è‡ªé€‚åº”</strong> - æ ¹æ®çº¸å¼ è°ƒæ•´å­—ä½“</li>
          </ul>

          <h3>ğŸª é€‚ç”¨åœºæ™¯</h3>
          <ul>
            <li>ä¸­é¤å…ã€è¥¿é¤å…ã€å¿«é¤åº—</li>
            <li>å¤–å–è®¢å•ã€è‡ªå–è®¢å•</li>
            <li>é¢„ä»˜è´¹ã€ç°é‡‘æ”¯ä»˜</li>
            <li>å¤šè¯­è¨€ã€å¤šå¸ç§æ”¯æŒ</li>
          </ul>
        </div>
      </div>

      <div class="features">
        <h2>ğŸš€ æ ¸å¿ƒåŠŸèƒ½å±•ç¤º</h2>
        <div class="feature-grid">
          <div class="feature-card">
            <div class="feature-icon">ğŸ«</div>
            <h3>ä¸“ä¸šæ’ç‰ˆ</h3>
            <p>åŸºäºçœŸå®å•†ä¸šå°ç¥¨è®¾è®¡ï¼Œå±…ä¸­æ ‡é¢˜ã€è¡¨æ ¼å¸ƒå±€ã€ä»·æ ¼å³å¯¹é½</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ğŸ“±</div>
            <h3>è‡ªé€‚åº”å®½åº¦</h3>
            <p>æ™ºèƒ½é€‚é…80mmã€58mmã€48mmç­‰å¤šç§çƒ­æ•çº¸å®½åº¦</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">ğŸŒ</div>
            <h3>å¤šè¯­è¨€æ”¯æŒ</h3>
            <p>å®Œç¾å¤„ç†ä¸­è‹±æ–‡æ··åˆå†…å®¹ï¼Œæ­£ç¡®è®¡ç®—æ˜¾ç¤ºå®½åº¦</p>
          </div>
          <div class="feature-card">
            <div class="feature-icon">âš¡</div>
            <h3>é«˜æ€§èƒ½</h3>
            <p>ä¼˜åŒ–çš„é«˜åº¦è®¡ç®—ã€å¹¶è¡Œæ‰“å°ã€ç²¾ç¡®è¾¹è·æ§åˆ¶</p>
          </div>
        </div>
      </div>
    </div>

    <!-- å¼•å…¥æ‰“å°å¼•æ“ -->
    <script src="renderer/LodopFuncs.js"></script>
    <script src="src/printer-lodop.js"></script>

    <script>
      // æ¨¡æ‹Ÿæ‰“å°ç®¡ç†å™¨
      const mockManager = {
        generateOrderPrintContent: function (order, paperWidth = 80) {
          // ä½¿ç”¨ä¸“ä¸šæ’ç‰ˆé€»è¾‘
          let totalWidth;
          if (paperWidth >= 80) {
            totalWidth = 34;
          } else if (paperWidth >= 58) {
            totalWidth = 24;
          } else if (paperWidth >= 48) {
            totalWidth = 20;
          } else {
            totalWidth = Math.max(Math.floor(paperWidth * 0.35), 16);
          }

          let content = '';

          // å¤´éƒ¨åŒºåŸŸ
          content += '='.repeat(totalWidth) + '\n';
          content +=
            this.centerText(order.rd_name || 'RESTAURANT', totalWidth) + '\n';
          const deliveryType = order.delivery_type == 1 ? 'DELIVERY' : 'PICKUP';
          content += this.centerText(deliveryType, totalWidth) + '\n';
          content += '='.repeat(totalWidth) + '\n\n';

          // è®¢å•å·åŒºåŸŸ
          content +=
            this.centerText(`Order #: ${order.order_id}`, totalWidth) + '\n';
          if (order.serial_num && order.serial_num > 0) {
            const serial = `#${order.serial_num.toString().padStart(3, '0')}`;
            content += this.centerText(`Serial: ${serial}`, totalWidth) + '\n';
          }
          content += '\n';

          // è®¢å•ä¿¡æ¯è¡¨æ ¼
          content += this.formatTableRow(
            'Order Date:',
            this.formatDateTime(order.create_time),
            totalWidth
          );
          const timeLabel =
            order.delivery_type == 1 ? 'Delivery Time:' : 'Pickup Time:';
          content += this.formatTableRow(
            timeLabel,
            this.formatDateTime(order.delivery_time),
            totalWidth
          );
          content += this.formatTableRow(
            'Payment:',
            order.paystyle == 1 ? 'Card' : 'Cash',
            totalWidth
          );
          content += this.formatTableRow(
            'Customer:',
            order.recipient_name || 'N/A',
            totalWidth
          );
          content += this.formatTableRow(
            'Phone:',
            order.recipient_phone || 'N/A',
            totalWidth
          );

          // åœ°å€ï¼ˆå¦‚æœæ˜¯å¤–é€ï¼‰
          if (order.delivery_type == 1 && order.recipient_address) {
            const address = order.recipient_address;
            if (this.displayWidth(`Address: ${address}`) <= totalWidth) {
              content += this.formatTableRow('Address:', address, totalWidth);
            } else {
              content += 'Address:\n';
              const wrappedAddress = this.wrapText(address, totalWidth - 2);
              const addressLines = wrappedAddress.split('\n');
              addressLines.forEach((line) => {
                if (line.trim()) {
                  content += `  ${line}\n`;
                }
              });
            }
          }

          content += '\n' + '-'.repeat(totalWidth) + '\n';
          content += this.centerText('ORDER ITEMS', totalWidth) + '\n';
          content += '-'.repeat(totalWidth) + '\n';

          // èœå“è¡¨æ ¼
          let nameWidth, qtyWidth, priceWidth;
          if (totalWidth >= 32) {
            nameWidth = totalWidth - 12;
            qtyWidth = 4;
            priceWidth = 8;
          } else if (totalWidth >= 24) {
            nameWidth = totalWidth - 10;
            qtyWidth = 3;
            priceWidth = 7;
          } else {
            nameWidth = totalWidth - 8;
            qtyWidth = 3;
            priceWidth = 5;
          }

          const itemHeader = this.padText('Item Name', nameWidth, 'left');
          const qtyHeader = this.padText('Qty', qtyWidth, 'center');
          const priceHeader = this.padText('Total', priceWidth, 'right');
          content += itemHeader + qtyHeader + priceHeader + '\n';
          content += '-'.repeat(totalWidth) + '\n';

          // èœå“æ˜ç»†
          (order.dishes_array || []).forEach((dish) => {
            const price = parseFloat(dish.price || '0');
            const qty = parseInt(dish.amount || '1');
            const priceStr = `$${price.toFixed(2)}`;
            const qtyStr = qty.toString();

            const dishName = dish.dishes_name || '';
            const dishLines = this.wrapText(dishName, nameWidth);
            const dishLinesArray = dishLines.split('\n');

            const firstLine = this.padText(
              dishLinesArray[0] || '',
              nameWidth,
              'left'
            );
            const qtyPart = this.padText(qtyStr, qtyWidth, 'center');
            const pricePart = this.padText(priceStr, priceWidth, 'right');
            content += firstLine + qtyPart + pricePart + '\n';

            for (let i = 1; i < dishLinesArray.length; i++) {
              if (dishLinesArray[i].trim()) {
                const continueLine = this.padText(
                  dishLinesArray[i],
                  nameWidth,
                  'left'
                );
                content +=
                  continueLine + ' '.repeat(qtyWidth + priceWidth) + '\n';
              }
            }

            if (dish.remark && dish.remark.trim()) {
              const specLines = this.wrapText(
                dish.remark,
                totalWidth - 2
              ).split('\n');
              specLines.forEach((line) => {
                if (line.trim()) {
                  content += `  ${line}\n`;
                }
              });
            }
          });

          content += '\n' + '-'.repeat(totalWidth) + '\n';
          content += this.centerText('PAYMENT SUMMARY', totalWidth) + '\n';
          content += '-'.repeat(totalWidth) + '\n';

          // è´¹ç”¨æ±‡æ€»
          const subtotal = parseFloat(order.sub_total || '0');
          const discount = parseFloat(order.discount_total || '0');
          const taxFee = parseFloat(order.tax_fee || '0');
          const taxRate = parseFloat(order.tax_rate || '0');
          const deliveryFee = parseFloat(order.delivery_fee || '0');
          const tip = parseFloat(order.tip_fee || '0');
          const total = parseFloat(order.total || '0');

          content += this.formatTableRow(
            'Subtotal:',
            `$${subtotal.toFixed(2)}`,
            totalWidth
          );

          if (discount > 0) {
            content += this.formatTableRow(
              'Discount:',
              `-$${discount.toFixed(2)}`,
              totalWidth
            );
          }

          if (taxFee > 0) {
            const taxLabel =
              taxRate > 0 ? `Tax (${taxRate.toFixed(1)}%):` : 'Tax:';
            content += this.formatTableRow(
              taxLabel,
              `$${taxFee.toFixed(2)}`,
              totalWidth
            );
          }

          if (deliveryFee > 0) {
            content += this.formatTableRow(
              'Delivery Fee:',
              `$${deliveryFee.toFixed(2)}`,
              totalWidth
            );
          }

          if (tip > 0) {
            content += this.formatTableRow(
              'Tip:',
              `$${tip.toFixed(2)}`,
              totalWidth
            );
          }

          content += '-'.repeat(totalWidth) + '\n';
          content += this.formatTableRow(
            'TOTAL:',
            `$${total.toFixed(2)}`,
            totalWidth
          );
          content += '='.repeat(totalWidth) + '\n';

          // åº•éƒ¨ä¿¡æ¯
          content += '\n';
          content +=
            this.centerText('Thank you for your order!', totalWidth) + '\n';
          if (order.paystyle == 1) {
            content +=
              this.centerText('Prepaid - Do Not Charge', totalWidth) + '\n';
          }
          content += '\n' + '='.repeat(totalWidth) + '\n';

          return content;
        },

        // è¾…åŠ©å‡½æ•°
        centerText: function (text, width) {
          const textWidth = this.displayWidth(text);
          if (textWidth >= width) {
            return this.truncateText(text, width);
          }
          const padding = width - textWidth;
          const leftPad = Math.floor(padding / 2);
          return ' '.repeat(leftPad) + text;
        },

        formatTableRow: function (label, value, width) {
          const labelWidth = this.displayWidth(label);
          const valueWidth = this.displayWidth(value);
          const totalUsed = labelWidth + valueWidth;

          if (totalUsed >= width) {
            return `${label}\n  ${value}\n`;
          }

          const padding = width - totalUsed;
          return label + ' '.repeat(padding) + value + '\n';
        },

        padText: function (text, width, align = 'left') {
          const textWidth = this.displayWidth(text);
          if (textWidth >= width) {
            return this.truncateText(text, width);
          }

          const padding = width - textWidth;
          switch (align) {
            case 'right':
              return ' '.repeat(padding) + text;
            case 'center':
              const leftPad = Math.floor(padding / 2);
              const rightPad = padding - leftPad;
              return ' '.repeat(leftPad) + text + ' '.repeat(rightPad);
            default:
              return text + ' '.repeat(padding);
          }
        },

        displayWidth: function (text) {
          let width = 0;
          for (const char of text) {
            width += char.charCodeAt(0) > 127 ? 2 : 1;
          }
          return width;
        },

        truncateText: function (text, maxWidth) {
          let result = '';
          let currentWidth = 0;

          for (const char of text) {
            const charWidth = char.charCodeAt(0) > 127 ? 2 : 1;
            if (currentWidth + charWidth > maxWidth) {
              break;
            }
            result += char;
            currentWidth += charWidth;
          }

          return result;
        },

        wrapText: function (text, width) {
          let result = '';
          let currentLine = '';
          let currentWidth = 0;

          for (const char of text) {
            const charWidth = char.charCodeAt(0) > 127 ? 2 : 1;

            if (currentWidth + charWidth > width && currentLine) {
              result += currentLine + '\n';
              currentLine = '';
              currentWidth = 0;
            }

            currentLine += char;
            currentWidth += charWidth;
          }

          if (currentLine) {
            result += currentLine;
          }

          return result;
        },

        formatDateTime: function (dateTimeStr) {
          if (!dateTimeStr) return 'N/A';
          try {
            const date = new Date(dateTimeStr);
            return date.toLocaleString('en-US', {
              month: '2-digit',
              day: '2-digit',
              year: '2-digit',
              hour: '2-digit',
              minute: '2-digit',
              hour12: true,
            });
          } catch (error) {
            return dateTimeStr;
          }
        },
      };

      // æ¼”ç¤ºå‡½æ•°
      function demo80mm() {
        const order = {
          order_id: 'DEMO-80MM-001',
          rd_name: 'Great Wall Restaurant',
          create_time: new Date().toISOString(),
          delivery_time: new Date(Date.now() + 30 * 60 * 1000).toISOString(),
          paystyle: 1,
          recipient_name: 'John Smith',
          recipient_phone: '(555) 123-4567',
          delivery_type: 2,
          dishes_array: [
            {
              dishes_name: "General Tso's Chicken",
              amount: 1,
              price: 14.5,
              remark: 'Served w. White Rice',
            },
            {
              dishes_name: 'Pineapple Fried Rice - Shrimp',
              amount: 1,
              price: 12.0,
              remark: '',
            },
          ],
          sub_total: 26.5,
          tax_rate: 8.5,
          tax_fee: 2.25,
          tip_fee: 4.0,
          total: 32.75,
        };

        const content = mockManager.generateOrderPrintContent(order, 80);
        document.getElementById('receipt').textContent = content;
        document.getElementById('status').innerHTML =
          '<div class="status-success">âœ… 80mmæ ‡å‡†çƒ­æ•å°ç¥¨ç”ŸæˆæˆåŠŸ - ä¸“ä¸šæ’ç‰ˆï¼Œè¡¨æ ¼å¸ƒå±€</div>';
      }

      function demo58mm() {
        const order = {
          order_id: 'DEMO-58MM-001',
          rd_name: 'NEW CHINA',
          create_time: new Date().toISOString(),
          delivery_time: new Date(Date.now() + 30 * 60 * 1000).toISOString(),
          paystyle: 1,
          recipient_name: 'Leah Richards',
          recipient_phone: '8438880360',
          delivery_type: 2,
          dishes_array: [
            {
              dishes_name: 'Sesame Chicken Combo',
              amount: 1,
              price: 10.29,
              remark: 'White Rice + Soup',
            },
            {
              dishes_name: 'Fried Chicken Wing',
              amount: 2,
              price: 14.0,
              remark: 'Plain x1',
            },
          ],
          sub_total: 24.29,
          tax_rate: 8.5,
          tax_fee: 2.06,
          total: 26.35,
        };

        const content = mockManager.generateOrderPrintContent(order, 58);
        document.getElementById('receipt').textContent = content;
        document.getElementById('status').innerHTML =
          '<div class="status-success">âœ… 58mmç´§å‡‘å‹çƒ­æ•å°ç¥¨ç”ŸæˆæˆåŠŸ - è‡ªåŠ¨é€‚é…ï¼Œç´§å‡‘å¸ƒå±€</div>';
      }

      function demoComplex() {
        const order = {
          order_id: 'COMPLEX-2024-001',
          rd_name: 'Super Long Restaurant Name That Tests Width',
          serial_num: 42,
          create_time: new Date().toISOString(),
          delivery_time: new Date(Date.now() + 45 * 60 * 1000).toISOString(),
          paystyle: 1,
          recipient_name: 'John Smith with a Very Long Name',
          recipient_phone: '(555) 123-4567',
          delivery_type: 1,
          recipient_address:
            '123 Very Long Street Name, Apartment 4B, New York, NY 10001',
          dishes_array: [
            {
              dishes_name:
                'Super Deluxe Triple Cheeseburger with Extra Everything and More Toppings',
              amount: 2,
              price: 18.99,
              remark:
                'No onions, extra pickles, medium rare, add avocado, extra cheese',
            },
            {
              dishes_name: 'Regular Fries',
              amount: 3,
              price: 4.99,
              remark: 'Large size, extra salt',
            },
          ],
          sub_total: 52.97,
          discount_total: 5.0,
          tax_rate: 8.75,
          tax_fee: 4.2,
          delivery_fee: 3.99,
          tip_fee: 10.0,
          total: 66.16,
        };

        const content = mockManager.generateOrderPrintContent(order, 80);
        document.getElementById('receipt').textContent = content;
        document.getElementById('status').innerHTML =
          '<div class="status-success">âœ… å¤æ‚è®¢å•ç”ŸæˆæˆåŠŸ - é•¿èœåæ¢è¡Œã€é•¿åœ°å€ã€å¤šç§è´¹ç”¨å¤„ç†</div>';
      }

      function demoChinese() {
        const order = {
          order_id: 'ä¸­æ–‡-2024-001',
          rd_name: 'åŒ—äº¬çƒ¤é¸­åº—',
          create_time: new Date().toISOString(),
          delivery_time: new Date(Date.now() + 30 * 60 * 1000).toISOString(),
          paystyle: 2,
          recipient_name: 'å¼ ä¸‰',
          recipient_phone: '138-8888-8888',
          delivery_type: 2,
          dishes_array: [
            {
              dishes_name: 'åŒ—äº¬çƒ¤é¸­åŠåª',
              amount: 1,
              price: 68.0,
              remark: 'é…è·å¶é¥¼ã€ç”œé¢é…±ã€é»„ç“œä¸',
            },
            {
              dishes_name: 'è’œè“‰è èœ',
              amount: 1,
              price: 18.0,
              remark: 'å°‘ç›',
            },
            {
              dishes_name: 'é…¸è¾£æ±¤',
              amount: 2,
              price: 12.0,
              remark: 'å¾®è¾£',
            },
          ],
          sub_total: 98.0,
          tax_rate: 0,
          tax_fee: 0,
          total: 98.0,
        };

        const content = mockManager.generateOrderPrintContent(order, 80);
        document.getElementById('receipt').textContent = content;
        document.getElementById('status').innerHTML =
          '<div class="status-success">âœ… ä¸­æ–‡é¤å…å°ç¥¨ç”ŸæˆæˆåŠŸ - ä¸­è‹±æ–‡æ··åˆæ˜¾ç¤ºï¼Œå®½åº¦è®¡ç®—æ­£ç¡®</div>';
      }

      // é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºé»˜è®¤å†…å®¹
      window.addEventListener('load', demo80mm);
    </script>
  </body>
</html>
